(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{126:function(e,a,t){},250:function(e,a,t){"use strict";t.r(a);var n,r=t(0),c=t(19),i=t.n(c),s=(t(126),t(262)),o=t(252),d=t(254),l=t(253),b=t(11);!function(e){e.SET_INFO="SET_INFO",e.SET_WORKS="SET_WORKS",e.ADD_CONTACT="ADD_CONTACT",e.REMOVE_CONTACT="REMOVE_CONTACT",e.IS_MODAL_WORKS="IS_MODAL_WORKS",e.ADD_MARK="ADD_MARK",e.REMOVE_MARK="REMOVE_MARK",e.IS_AUTH="IS_AUTH",e.IS_AUTH_MODAL="IS_AUTH_MODAL",e.ADD_ERROR="ADD_ERROR"}(n||(n={}));var j=t(1),u=function(){var e=Object(b.b)();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(s.a,{bg:"dark",variant:"dark",sticky:"top",children:Object(j.jsxs)(o.a,{children:[Object(j.jsxs)(s.a.Brand,{href:"#home",children:[Object(j.jsx)(l.a,{width:"30",height:"30",className:"d-inline-block align-top"})," ","MERNPortfolio"]}),Object(j.jsx)(d.a,{onClick:function(){e({type:n.IS_AUTH_MODAL})},children:"\u0412\u043e\u0439\u0442\u0438"})]})})})},h=t(264),O=t(255),x=t(256),m=t(8),p=t.n(m),v=t(17),g=t.n(v),f=t(36),_=t(112),y=t.n(_).a.create({baseURL:"http://87.236.22.121:5000/"}),k=function(e){return y.post("/auth",e)},A=function(){return y.get("/")},T=function(){return y.get("/works")},R=function(e){return y.post("/info",e,{headers:{Authorization:localStorage.getItem("token")}})},C=function(e){return y.post("/works",e,{headers:{Authorization:localStorage.getItem("token")}})},w=function(e){return y.delete("/works?id=".concat(e),{headers:{Authorization:localStorage.getItem("token")}})},S=function(e){var a=e.work,t=e.isAuth,r=Object(b.b)(),c=function(e){var t="";t="github"===e?a.links.github:a.links.demo,window.location.href=t};return Object(j.jsx)(h.a,{border:"success",style:{marginBottom:10},children:Object(j.jsxs)(h.a.Body,{children:[Object(j.jsx)(h.a.Title,{children:Object(j.jsxs)("div",{className:p.a.cardTittle,children:[Object(j.jsx)("h3",{children:a.name}),Object(j.jsx)(d.a,{onClick:function(){var e;r((e=a._id,function(){var a=Object(f.a)(g.a.mark((function a(t){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w(e);case 3:r=a.sent,t({type:n.SET_WORKS,payload:r.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()))},className:p.a.closeButton,disabled:!t,children:"X"})]})}),Object(j.jsx)(h.a.Title,{style:{marginBottom:20},children:Object(j.jsx)("h5",{children:a.desc})}),a.tags.map((function(e){return Object(j.jsx)(d.a,{disabled:!0,style:{marginRight:10},children:e})})),Object(j.jsx)("hr",{}),Object(j.jsx)(h.a.Text,{children:Object(j.jsx)("div",{style:{fontSize:18},children:Object(j.jsx)("ul",{children:a.mark.map((function(e){return Object(j.jsx)("li",{children:e})}))})})}),Object(j.jsx)("div",{children:Object(j.jsx)("hr",{})}),Object(j.jsxs)("div",{className:p.a.grid,children:[Object(j.jsxs)(d.a,{onClick:function(){return c("demo")},variant:"primary",size:"lg",className:p.a.item,children:[Object(j.jsx)(O.a,{})," \u0414\u0435\u043c\u043e"]}),Object(j.jsxs)(d.a,{onClick:function(){return c("github")},variant:"secondary",size:"lg",className:p.a.item,children:[Object(j.jsx)(x.a,{})," Github"]})]})]})})},D=b.c,N=function(e){var a=e.isAuth,t=Object(b.b)(),r=D((function(e){return e.index.works}));return Object(j.jsxs)(o.a,{style:{paddingTop:30},children:[Object(j.jsx)(d.a,{disabled:!a,onClick:function(){t({type:n.IS_MODAL_WORKS})},style:{width:"100%",marginBottom:"20px"},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),r.map((function(e){return Object(j.jsx)(S,{isAuth:a,work:e},e._id)}))]})},M=t(261),W=t(30),E=t(7),I=t(263),L=t(257),K=t(39),B=t(16),H=function(e){for(var a in e)return!1;return!0},V=B.object({name:B.string().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),job:B.string().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),desc:B.string().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),workWidthTittle:B.string().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),workWidth:B.string().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e")}),q=function(e){var a=e.info,t=D((function(e){return e.index.info})),c=Object(K.a)({initialValues:{name:a.name,job:a.job,desc:a.desc,workWidthTittle:a.workWidthTittle,workWidth:a.workWidth,contacts:a.contacts},onSubmit:function(){var e=Object(f.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(Object(E.a)(Object(E.a)({},a),{},{contacts:t.contacts}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),enableReinitialize:!0,validationSchema:V});Object(r.useEffect)((function(){console.log(c.errors)}),[c.errors]);var i=Object(b.b)(),s=Object(r.useState)(""),o=Object(W.a)(s,2),l=o[0],u=o[1],h=Object(r.useState)(""),O=Object(W.a)(h,2),x=O[0],m=O[1];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:p.a.editGrid,children:[Object(j.jsx)(I.a,{placeholder:"\u0418\u043c\u044f","aria-label":"Recipient's username","aria-describedby":"basic-addon2",name:"name",value:c.values.name,onChange:c.handleChange}),Object(j.jsx)(I.a,{placeholder:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f","aria-label":"Recipient's username","aria-describedby":"basic-addon2",name:"job",value:c.values.job,onChange:c.handleChange}),Object(j.jsx)(I.a,{placeholder:"\u041e\u0431\u043e \u043c\u043d\u0435","aria-label":"Recipient's username","aria-describedby":"basic-addon2",name:"desc",value:c.values.desc,onChange:c.handleChange}),Object(j.jsx)(I.a,{placeholder:"\u041e\u043f\u044b\u0442 \u0440\u0430\u0431\u043e\u0442\u044b","aria-label":"Recipient's username","aria-describedby":"basic-addon2",name:"workWidthTittle",value:c.values.workWidthTittle,onChange:c.handleChange}),Object(j.jsx)(I.a,{placeholder:"\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438","aria-label":"Recipient's username","aria-describedby":"basic-addon2",name:"workWidth",value:c.values.workWidth,onChange:c.handleChange})]}),H(c.errors)?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)(L.a,{variant:"danger",children:"\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("hr",{}),t.contacts&&t.contacts.map((function(e){return Object(j.jsxs)("div",{className:p.a.editContact,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:p.a.editContactTittle,children:Object(j.jsxs)("div",{className:p.a.contactLine,children:[Object(j.jsx)("div",{children:"key"}),Object(j.jsx)("div",{className:p.a.contactLineRight,children:e.key})]})}),Object(j.jsxs)("div",{className:p.a.contactLine,children:[Object(j.jsx)("div",{children:"value"}),Object(j.jsx)("div",{className:p.a.contactLineRight,children:e.value})]})]}),Object(j.jsx)(d.a,{onClick:function(){return function(e){i({type:n.REMOVE_CONTACT,payload:e})}(e)},className:p.a.closeButton,children:"X"})]},e.key)})),Object(j.jsxs)("div",{className:p.a.editGrid,children:[Object(j.jsx)(I.a,{placeholder:"\u0422\u0438\u043f \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430","aria-label":"Recipient's username","aria-describedby":"basic-addon2",name:"contactsName",value:l,onChange:function(e){return u(e.currentTarget.value)}}),Object(j.jsx)(I.a,{placeholder:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435","aria-label":"Recipient's username","aria-describedby":"basic-addon2",name:"contactValue",value:x,onChange:function(e){return m(e.currentTarget.value)}})]}),Object(j.jsx)(d.a,{onClick:function(){i({type:n.ADD_CONTACT,payload:{key:l,value:x}})},style:{width:"100%",marginTop:5},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439"}),Object(j.jsx)("hr",{}),Object(j.jsx)(d.a,{onClick:function(){return c.handleSubmit()},style:{width:"100%"},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})},F=function(e){var a,t=e.info;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{src:"https://avatars.githubusercontent.com/u/78543687?s=400&u=78895e08cc6d10f51e57f60053262620138813f0&v=4",className:p.a.avatar,alt:""}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:t.name}),Object(j.jsx)("h5",{children:t.job})]}),Object(j.jsxs)("div",{children:[t.desc,Object(j.jsx)("br",{})]}),Object(j.jsxs)("div",{children:[t.workWidthTittle,Object(j.jsx)("br",{}),t.workWidth,Object(j.jsx)("br",{})]}),null===(a=t.contacts)||void 0===a?void 0:a.map((function(e){return Object(j.jsxs)("div",{className:p.a.social,children:[Object(j.jsxs)("div",{children:[e.key,":"]}),Object(j.jsx)("div",{children:e.value})]})}))]})},U=function(e){var a=e.isAuth,t=D((function(e){return e.index.info}));return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(M.a,{className:"col-md-12 d-none d-md-block bg-light sidebar",activeKey:"/home",onSelect:function(e){return alert("selected ".concat(e))},children:Object(j.jsx)("div",{className:p.a.main,children:a?Object(j.jsx)(q,{info:t}):Object(j.jsx)(F,{info:t})})})})},z=t(258),G=t(259),X=t(260),J=t(16),P=J.object({name:J.string().required(),desc:J.string().required(),tags:J.string().required(),github:J.string().required(),demo:J.string().required()}),Y=function(){var e=Object(b.b)(),a=D((function(e){return e.index.editWork.mark})),t=D((function(e){return e.index.isWorksModal})),c=Object(K.a)({initialValues:{name:"",desc:"",tags:"",mark:"",github:"",demo:""},validationSchema:P,onSubmit:function(t){var r;e((r=Object(E.a)(Object(E.a)({},t),{},{mark:a,links:{github:c.values.github,demo:c.values.demo},tags:c.values.tags.split(" ").filter((function(e){return""!==e}))}),function(){var e=Object(f.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(r);case 3:t=e.sent,a({type:n.SET_WORKS,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()))}});return Object(r.useEffect)((function(){console.log(a)}),[a]),Object(j.jsxs)(X.a,{show:t,onHide:function(){e({type:n.IS_MODAL_WORKS})},children:[Object(j.jsx)(X.a.Header,{closeButton:!0,children:Object(j.jsx)(X.a.Title,{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443"})}),Object(j.jsx)(X.a.Body,{children:Object(j.jsx)(h.a,{border:"danger",children:Object(j.jsxs)(h.a.Body,{children:[Object(j.jsx)(h.a.Title,{children:Object(j.jsx)(I.a,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","aria-label":"Recipient's username","aria-describedby":"basic-addon2",name:"name",value:c.values.name,onChange:c.handleChange})}),Object(j.jsx)(h.a.Title,{style:{marginBottom:20},children:Object(j.jsx)(I.a,{placeholder:"\u0422\u0438\u043f","aria-label":"Recipient's username","aria-describedby":"basic-addon2",name:"desc",value:c.values.desc,onChange:c.handleChange})}),Object(j.jsx)(I.a,{placeholder:"#\u0422\u0435\u0433\u0438","aria-label":"Recipient's username","aria-describedby":"basic-addon2",name:"tags",value:c.values.tags,onChange:c.handleChange}),Object(j.jsx)("hr",{}),a&&a.map((function(a){return Object(j.jsxs)("div",{className:p.a.li,children:[Object(j.jsx)("li",{children:a}),Object(j.jsx)(d.a,{onClick:function(){return function(a){e({type:n.REMOVE_MARK,payload:a})}(a)},className:p.a.closeButton,children:"X"})]})})),Object(j.jsx)(h.a.Text,{children:Object(j.jsxs)("div",{style:{fontSize:18},children:[Object(j.jsx)(I.a,{placeholder:"\u041c\u0430\u0440\u043a\u0435\u0440","aria-label":"Recipient's username","aria-describedby":"basic-addon2",name:"mark",value:c.values.mark,onChange:c.handleChange}),Object(j.jsx)(d.a,{onClick:function(){e({type:n.ADD_MARK,payload:c.values.mark})},style:{width:"100%",marginTop:10},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})}),Object(j.jsx)("div",{children:Object(j.jsx)("hr",{})}),Object(j.jsxs)("div",{className:p.a.grid,children:[Object(j.jsx)(I.a,{placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0434\u0435\u043c\u043e","aria-label":"Recipient's username","aria-describedby":"basic-addon2",name:"demo",value:c.values.demo,onChange:c.handleChange}),Object(j.jsx)(I.a,{placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0435 GitHub","aria-label":"Recipient's username","aria-describedby":"basic-addon2",name:"github",value:c.values.github,onChange:c.handleChange})]}),H(c.errors)?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)(L.a,{variant:"danger",style:{marginTop:10},children:"\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b"}),Object(j.jsx)("hr",{}),Object(j.jsx)(d.a,{style:{width:"100%"},onClick:function(){return c.handleSubmit()},children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})})})]})},Q=B.object({login:B.string().required(),password:B.string().required()}),Z=function(){var e=D((function(e){return e.index.isAuthModal})),a=D((function(e){return e.index.errors})).filter((function(e){return"auth"!==e.name}))[0],t=Object(b.b)(),r=Object(K.a)({initialValues:{login:"",password:""},onSubmit:function(e){var a;t((a=e,function(){var e=Object(f.a)(g.a.mark((function e(t){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(a);case 3:400!==(r=e.sent).status?(localStorage.setItem("token",r.data),t({type:n.IS_AUTH}),t({type:n.IS_AUTH_MODAL})):t({type:n.ADD_ERROR,payload:{name:"auth",value:r.data.message}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()))},validationSchema:Q});return Object(j.jsxs)(X.a,{show:e,onHide:function(){t({type:n.IS_AUTH_MODAL})},children:[Object(j.jsx)(X.a.Header,{closeButton:!0,children:Object(j.jsx)(X.a.Title,{children:"\u0412\u0445\u043e\u0434"})}),Object(j.jsxs)(X.a.Body,{className:p.a.editGrid,children:[Object(j.jsx)(I.a,{placeholder:"\u041b\u043e\u0433\u0438\u043d","aria-label":"Recipient's username","aria-describedby":"basic-addon2",name:"login",value:r.values.login,onChange:r.handleChange}),Object(j.jsx)(I.a,{placeholder:"\u041f\u043e\u0440\u043e\u043b\u044c","aria-label":"Recipient's username","aria-describedby":"basic-addon2",name:"password",value:r.values.password,onChange:r.handleChange,type:"password"}),!H(r.errors)&&Object(j.jsx)(L.a,{variant:"danger",children:"\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b"}),!H(a)&&Object(j.jsx)(L.a,{variant:"danger",children:a.value}),Object(j.jsx)(d.a,{style:{width:"100%"},onClick:function(){return r.handleSubmit()},children:"\u0412\u043e\u0439\u0442\u0438"})]})]})};var $=function(){var e=D((function(e){return e.index.isAuth})),a=Object(b.b)();return Object(r.useEffect)((function(){a(function(){var e=Object(f.a)(g.a.mark((function e(a){var t,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A();case 3:return t=e.sent,e.next=6,T();case 6:r=e.sent,a({type:n.SET_INFO,payload:t.data}),a({type:n.SET_WORKS,payload:r.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}())}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u,{}),Object(j.jsx)(o.a,{children:Object(j.jsxs)(z.a,{style:{width:"100%"},children:[Object(j.jsx)(G.a,{xs:3,id:"sidebar-wrapper",children:Object(j.jsx)(U,{isAuth:e})}),Object(j.jsx)(G.a,{xs:9,id:"page-content-wrapper",children:Object(j.jsx)(N,{isAuth:e})})]})}),Object(j.jsx)(Y,{}),Object(j.jsx)(Z,{})]})},ee=(t(249),t(13)),ae=t(50),te=t(119),ne=t(120),re={isAuth:!1,info:{},works:[],isWorksModal:!1,isAuthModal:!1,editWork:{mark:[],link:{github:"",demo:""}},errors:[]};var ce=Object(ae.combineReducers)({index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case n.IS_AUTH:return Object(E.a)(Object(E.a)({},e),{},{isAuth:!e.isAuth});case n.SET_INFO:return Object(E.a)(Object(E.a)({},e),{},{info:a.payload});case n.ADD_CONTACT:return Object(E.a)(Object(E.a)({},e),{},{info:Object(E.a)(Object(E.a)({},e.info),{},{contacts:[].concat(Object(ee.a)(e.info.contacts),[{key:a.payload.key,value:a.payload.value}])})});case n.ADD_MARK:return Object(E.a)(Object(E.a)({},e),{},{editWork:Object(E.a)(Object(E.a)({},e.editWork),{},{mark:[].concat(Object(ee.a)(e.editWork.mark),[a.payload])})});case n.REMOVE_MARK:return Object(E.a)(Object(E.a)({},e),{},{editWork:Object(E.a)(Object(E.a)({},e.editWork),{},{mark:Object(ee.a)(e.editWork.mark.filter((function(e){return e!==a.payload})))})});case n.REMOVE_CONTACT:return Object(E.a)(Object(E.a)({},e),{},{info:Object(E.a)(Object(E.a)({},e.info),{},{contacts:Object(ee.a)(e.info.contacts.filter((function(e){return e!==a.payload})))})});case n.SET_WORKS:return Object(E.a)(Object(E.a)({},e),{},{works:a.payload});case n.IS_MODAL_WORKS:return Object(E.a)(Object(E.a)({},e),{},{isWorksModal:!e.isWorksModal});case n.IS_AUTH_MODAL:return Object(E.a)(Object(E.a)({},e),{},{isAuthModal:!e.isAuthModal});case n.ADD_ERROR:return Object(E.a)(Object(E.a)({},e),{},{errors:[].concat(Object(ee.a)(e.errors),[a.payload])});default:return e}}}),ie=Object(ae.createStore)(ce,Object(te.composeWithDevTools)(Object(ae.applyMiddleware)(ne.a)));i.a.render(Object(j.jsx)(b.a,{store:ie,children:Object(j.jsx)($,{})}),document.getElementById("root"))},8:function(e,a,t){e.exports={sidebar:"Dashboard_sidebar__398nS","sidebar-wrapper":"Dashboard_sidebar-wrapper__1uv-G","sidebar-heading":"Dashboard_sidebar-heading__3W6zN","page-content-wrapper":"Dashboard_page-content-wrapper__3TbfF",avatar:"Dashboard_avatar__3Fsr6",main:"Dashboard_main__3Ds0w",social:"Dashboard_social__2IZLt",grid:"Dashboard_grid__35h6j",item:"Dashboard_item__3eytN",editContact:"Dashboard_editContact__wsvYg",editContactTittle:"Dashboard_editContactTittle__1h-Pu",closeButton:"Dashboard_closeButton__245Ow",contactLineRight:"Dashboard_contactLineRight__3mG_Q",contactLine:"Dashboard_contactLine__3C_TV",editGrid:"Dashboard_editGrid__14RV1",multipleLines:"Dashboard_multipleLines__3J_uv",li:"Dashboard_li__1LTyX",cardTittle:"Dashboard_cardTittle__1Uq_Y"}}},[[250,1,2]]]);
//# sourceMappingURL=main.83a5d142.chunk.js.map